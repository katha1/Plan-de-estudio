<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Plan de Estudio - Ciencias de la Computaci√≥n</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>‚ú®Plan de Estudio - Ciencias de la Computaci√≥n‚ú®</h1>

  <div class="plan-estudio">
    <!-- materias sin correlativas -->
    <div class="columna">
      <div class="materia" data-id="ip">Introducci√≥n a la Programaci√≥n</div>
      <div class="materia" data-id="algebra">√Ålgebra I</div>
      <div class="materia" data-id="analisis1">An√°lisis I</div>
      <div class="materia" data-id="sociedad">Seminario sobre Tecnolog√≠a y Sociedad</div>
      <div class="materia" data-id="optativas">Optativas</div>
    </div>

    <!-- Columna 2: materias con correlativas nivel 1 -->
    <div class="columna">
      <div class="materia bloqueada" data-id="aed" data-correlativas="ip,algebra">Algoritmos y Estructuras de Datos (AED)</div>
      <div class="materia bloqueada" data-id="sd" data-correlativas="ip">Sistemas Digitales (SD)</div>
      <div class="materia bloqueada" data-id="algebra-lineal" data-correlativas="aed">√Ålgebra Lineal Computacional</div>
    </div>

    <!-- Columna 3: materias con correlativas nivel 2 -->
    <div class="columna">
      <div class="materia bloqueada" data-id="aoc" data-correlativas="sd">Arquitectura y Organizaci√≥n de Computadores (AOC)</div>
      <div class="materia bloqueada" data-id="tda" data-correlativas="aed">T√©cnicas de Dise√±o de Algoritmos (TDA)</div>
      <div class="materia bloqueada" data-id="pp" data-correlativas="aed">Paradigmas de Programaci√≥n (PP)</div>
      <div class="materia bloqueada" data-id="lfac" data-correlativas="aed">Lenguajes Formales, Aut√≥matas y Computabilidad (LFAC)</div>
    </div>
    

    <!-- Columna 4: materias con correlativas nivel 3 y m√°s -->
    <div class="columna">
      <div class="materia bloqueada" data-id="is" data-correlativas="pp">Ingenier√≠a de Software (IS)</div>
      
      <div class="materia bloqueada" data-id="complejidad" data-correlativas="tda,lfac">Complejidad Computacional</div>
      <div class="materia bloqueada" data-id="so" data-correlativas="aoc">Sistemas Operativos (SO)</div>
      <div class="materia bloqueada" data-id="ec" data-correlativas="aoc,analisis1">Estad√≠stica Computacional (EC)</div>
      <div class="materia bloqueada" data-id="redes" data-correlativas="so,tda,ec">Redes (...) y C√≥mputo Distribuido</div>
      <div class="materia bloqueada" data-id="concurrente" data-correlativas="so,pp">Programaci√≥n Concurrente y Paralela</div>
      <div class="materia bloqueada" data-id="ari" data-correlativas="is">Almacenamiento y Recuperaci√≥n de la Informaci√≥n</div>
    </div>

    <div class="materia tesis bloqueada" data-id="tesis" data-correlativas="optativas,sociedad,redes,concurrente,ari,complejidad">üìù Tesis de Licenciatura</div>

    
    
  </div>

  <script>
        const materias = document.querySelectorAll('.materia');
        const tesis = document.querySelector('.materia.tesis');

        function guardarEstado() {
          const estado = {};
          materias.forEach(m => {
            estado[m.dataset.id] = m.classList.contains('completada');
          });
          localStorage.setItem('estadoMaterias', JSON.stringify(estado));
        }

        function cargarEstado() {
          const estadoStr = localStorage.getItem('estadoMaterias');
          if (!estadoStr) return;
          const estado = JSON.parse(estadoStr);
          materias.forEach(m => {
            if (estado[m.dataset.id]) {
              m.classList.add('completada');
            } else {
              m.classList.remove('completada');
            }
          });
        }

        function actualizarEstado() {
          materias.forEach(m => {
            const correlativas = m.dataset.correlativas;
            if (correlativas) {
              const requisitos = correlativas.split(',').map(id => id.trim());
              const habilitada = requisitos.every(reqId => {
                const req = document.querySelector(`.materia[data-id="${reqId}"]`);
                return req && req.classList.contains('completada');
              });
              if (habilitada) {
                m.classList.remove('bloqueada');
              } else {
                m.classList.add('bloqueada');
                m.classList.remove('completada');
              }
            }
          });

          // Si tesis est√° completada, lanzar confeti
          if (tesis.classList.contains('completada')) {
            lanzarConfeti();
          }
        }

        materias.forEach(m => {
          m.addEventListener('click', () => {
            if (m.classList.contains('bloqueada')) return;
            m.classList.toggle('completada');
            actualizarEstado();
            guardarEstado();
          });
        });

        cargarEstado();
        actualizarEstado();

        // Funci√≥n lanzarConfeti (como te pas√© antes)
        function lanzarConfeti() {
          if (document.querySelector('.confeti')) return;

          const confetiContainer = document.createElement('div');
          confetiContainer.classList.add('confeti');
          document.body.appendChild(confetiContainer);

          for (let i = 0; i < 100; i++) {
            const confeti = document.createElement('div');
            confeti.classList.add('confeti-piece');
            confeti.style.left = Math.random() * 100 + 'vw';
            confeti.style.animationDelay = (Math.random() * 3) + 's';
            confeti.style.backgroundColor = `hsl(${Math.random() * 360}, 70%, 60%)`;
            confetiContainer.appendChild(confeti);
          }

          setTimeout(() => {
            confetiContainer.remove();
          }, 5000);
        }


  </script>
</body>
</html>
